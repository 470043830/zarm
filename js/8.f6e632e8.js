webpackJsonp([8],{271:function(e,t,a){"use strict";function n(){alert("执行 onBeforeSelect 方法")}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(127),a(128)),l=(a(291),a(292)),r=(a(360),a(361)),c=(a(304),a(305)),s=(a(293),a(294)),u=(a(314),a(315)),o=a(76),f=a.n(o),m=a(15),p=a.n(m),h=a(16),d=a.n(h),v=a(17),y=a.n(v),E=a(18),g=a.n(E),k=a(19),b=a.n(k),C=a(0),w=a.n(C),N=a(301),S=a(303),_=a(302),x=a(424),O=(a.n(x),5),R=function(e){function t(e){d()(this,t);var a=g()(this,(t.__proto__||p()(t)).call(this,e));return a.onSelectMulti=function(e){console.log(e);var t=a.state.multiFiles,n=a.state.toast;if(t=t.concat(e),t.length>O)return n.visible=!0,n.children="最多只能选择5张图片",void a.setState({toast:n});a.setState({multiFiles:t})},a.onSelect=function(e){console.log(e);var t=a.state.files;t.push(e),a.setState({files:t})},a.state={multiFiles:[],files:[],filesWithToast:[],allTypeFiles:{},toast:{visible:!1,onMaskClick:function(){var e=a.state.toast;e.visible=!1,a.setState({toast:e})}}},a}return b()(t,e),y()(t,[{key:"remove",value:function(e,t){var a,n=this.state[e],i=this.state.toast;n.splice(t,1),i.visible=!0,i.children="删除成功",this.setState({toast:i}),this.setState((a={},f()(a,e,n),f()(a,"toast",i),a))}},{key:"imgRender",value:function(e){var t=this;return this.state[e].map(function(a,n){return w.a.createElement(u.a,{sup:!0,className:"filepicker-item",shape:"circle",text:w.a.createElement(c.a,{type:"wrong"}),key:+n,onClick:function(){return t.remove(e,+n)}},w.a.createElement("div",{className:"filepicker-item-img"},w.a.createElement("a",{href:a.thumbnail,target:"_blank"},w.a.createElement("img",{src:a.thumbnail,alt:""}))))})}},{key:"fileRender",value:function(e){var t=this;return this.state[e].map(function(a,n){return w.a.createElement(s.a,{key:+n,description:w.a.createElement(c.a,{type:"wrong",theme:"error",onClick:function(){return t.remove(e,+n)}})},a.fileName)})}},{key:"render",value:function(){var e=this.state,t=e.toast,a=e.multiFiles;return w.a.createElement(N.a,{className:"filepicker-page"},w.a.createElement(S.a,{title:"文件选择器 FilePicker"}),w.a.createElement("main",null,w.a.createElement(l.a,null,w.a.createElement(l.a.Header,{title:"点击一次选择单个附件"}),w.a.createElement(l.a.Body,null,this.fileRender("files"),w.a.createElement("div",{className:"filepicker-wrapper"},w.a.createElement(r.a,{className:"filepicker-btn",onChange:this.onSelect},w.a.createElement(c.a,{type:"add"}))))),w.a.createElement(l.a,null,w.a.createElement(l.a.Header,{title:"点击一次选择多张图片"}),w.a.createElement(l.a.Body,null,w.a.createElement("div",{className:"filepicker-wrapper"},this.imgRender("multiFiles"),a.length<O&&w.a.createElement(r.a,{multiple:!0,className:"filepicker-btn",accept:"image/*",onBeforeSelect:n,onChange:this.onSelectMulti},w.a.createElement(c.a,{type:"add"}))))),w.a.createElement(l.a,null,w.a.createElement(l.a.Header,{title:"禁用状态"}),w.a.createElement(l.a.Body,null,w.a.createElement("div",{className:"filepicker-wrapper"},w.a.createElement(r.a,{className:"filepicker-btn",disabled:!0},w.a.createElement(c.a,{type:"add"}))))),w.a.createElement(i.a,t)),w.a.createElement(_.a,null))}}]),t}(C.Component);t.default=R},314:function(e,t,a){"use strict";var n=(a(34),a(362));a.n(n)},315:function(e,t,a){"use strict";var n=a(77),i=a.n(n),l=a(76),r=a.n(l),c=a(15),s=a.n(c),u=a(16),o=a.n(u),f=a(17),m=a.n(f),p=a(18),h=a.n(p),d=a(19),v=a.n(d),y=a(78),E=a.n(y),g=a(0),k=a.n(g),b=a(46),C=a.n(b),w=this&&this.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof E.a)for(var i=0,n=E()(e);i<n.length;i++)t.indexOf(n[i])<0&&(a[n[i]]=e[n[i]]);return a},N=function(e){function t(){return o()(this,t),h()(this,(t.__proto__||s()(t)).apply(this,arguments))}return v()(t,e),m()(t,[{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,n=t.className,l=t.theme,c=t.shape,s=t.sup,u=t.text,o=t.children,f=w(t,["prefixCls","className","theme","shape","sup","text","children"]),m=C()(""+a,n,(e={},r()(e,"theme-"+l,!!l),r()(e,"shape-"+c,!!c),e)),p=C()(a+"-sup",r()({},a+"-sup-up",s));return k.a.createElement("span",{className:m},o,k.a.createElement("sup",i()({className:p},f),u))}}]),t}(g.PureComponent);t.a=N,N.defaultProps={prefixCls:"za-badge",theme:"error",sup:!1}},360:function(e,t,a){"use strict";var n=(a(34),a(418));a.n(n)},361:function(e,t,a){"use strict";var n=a(15),i=a.n(n),l=a(16),r=a.n(l),c=a(17),s=a.n(c),u=a(18),o=a.n(u),f=a(19),m=a.n(f),p=a(0),h=a.n(p),d=a(46),v=a.n(d),y=a(419),E=function(e){function t(e){r()(this,t);var a=o()(this,(t.__proto__||i()(t)).call(this,e));return a.handleDefaultInput=function(e){e.target.value=null;var t=a.props,n=t.onBeforeSelect,i=t.disabled;"function"==typeof n&&(!1===n()||i)&&e.preventDefault()},a.handleClick=function(e){a.file.click(e)},a.handleChange=function(e){var t=a.props,n=t.onChange,i=t.quality,l=t.multiple,r=[].slice.call(e.target.files),c=[],s=function(e){l?(c.push(e),r.length===c.length&&"function"==typeof n&&n(c)):"function"==typeof n&&n(e)};r&&r.map(function(e){return Object(y.a)({file:e,quality:i},s)})},a.state={fileList:[]},a}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.prefixCls,n=t.className,i=t.multiple,l=t.accept,r=t.capture,c=t.disabled,s=t.children,u=v()(a,n,{disabled:c}),o=Object(p.cloneElement)(s,{onClick:this.handleClick});return h.a.createElement("div",{className:u},h.a.createElement("input",{className:a+"-input",type:"file",ref:function(t){e.file=t},accept:l,multiple:i,capture:r,onClick:this.handleDefaultInput,onChange:this.handleChange}),o)}}]),t}(p.PureComponent);t.a=E,E.defaultProps={prefixCls:"za-filepicker",disabled:!1,multiple:!1,onBeforeSelect:function(){return!0}}},362:function(e,t){},418:function(e,t){},419:function(e,t,a){"use strict";function n(e,t){var a=e.file,n=e.quality,r=Object(i.a)(a),c=r.fileSize,s=r.fileType,u=r.isPic,o=r.fileName,f={file:a,fileType:s,fileSize:c,fileName:o,thumbnail:""},m=function(e){f.thumbnail=e,t(f)};u?Object(l.a)({file:a,quality:n,fileType:s},m):t(f)}t.a=n;var i=a(420),l=a(422)},420:function(e,t,a){"use strict";function n(e){var t=e.size,a=e.name,n=e.type||a.substr(a.lastIndexOf(".")+1);return{fileName:a,fileSize:t,fileType:n,isPic:Object(i.a)(n)}}t.a=n;var i=a(421)},421:function(e,t,a){"use strict";function n(e){var t=/image.*/;return!!e.match(t)}t.a=n},422:function(e,t,a){"use strict";function n(e,t){var a=e.file,n=e.quality,l=e.fileType,r=e.maxWidth,c=e.maxHeight,s=document.createElement("img");window.URL=window.URL||window.webkitURL,s.src=window.URL.createObjectURL(a),s.onload=function(){var e=void 0;e=n||r||c?Object(i.a)(s,n,l):s.src,t(e)}}t.a=n;var i=a(423)},423:function(e,t,a){"use strict";function n(e,t,a){var n=document.createElement("canvas"),i=n.getContext("2d");if(!i)return e;var l=e.width,r=e.height;return n.width=l,n.height=r,i.fillStyle="#fff",i.fillRect(0,0,n.width,n.height),i.drawImage(e,0,0,l,r),t>0&&t<=1||console.error("请输入有效的压缩比例, 没有将默认使用 0.92"),n.toDataURL(a,t)}t.a=n},424:function(e,t){}});